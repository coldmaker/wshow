<div>
  <div id="imgList" style="width=100%;height=100%;margin:10px;">
    <ul class="gallery ui-helper-reset ui-helper-clearfix">
    <volist name="imgList" id="vo">
      <li class="ui-widget-content  " id="img_{$vo[id]}">
        <label for="path{$key+1}" class="thumbnail"><img src="{$vo.path_name}" onclick="selImg({$vo[id]})" /></label>
      </li>
    </volist>
    </ul>
    <input type="hidden" id="selImgVal" value="">
  </div>
</div>

<style>
.gallery li.active { border: 2px solid red; }
.gallery li { float: left; width: 20%; height:20%; padding: 0.4em; margin: 0 0.8em 0.8em 0; text-align: center;  overflow:hidden; border:0;  position:relative;}
.gallery li a { float: right; }
.gallery li a.ui-icon-zoomin { float: left; }
.gallery li label{ padding:0; border:0; overflow:hidden; border-radius:0;}
.gallery li .thumbnail > img{   cursor: pointer; }
.gallery li input{ display:block; position:absolute; bottom:-50px; width:1px; height:1px;}
</style>
<script>
$(function(){
  var pwidth=$(".gallery li").width();
  $(".gallery li").height(pwidth);
  $(".gallery li label").height(pwidth);
  var pimg=$(".gallery li .thumbnail > img");
  for(var i=0;i<pimg.length;i++){
    //var iwidth=pimg[i].width();
    //var iheight=pimg[i].height();
    pimg[i].style.position="absolute";
    /*
    if(iwidth > iheight){
      pimg[i].width("100%");
    }else{
      pimg[i].width("100%");
    }
    */
  }
})
function selImg(id){
  $("#img_"+id).addClass('active');
  $("#img_"+id).siblings().removeClass('active');
  $("#selImgVal").val(id);
}
</script>


